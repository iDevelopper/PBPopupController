<!DOCTYPE html>
<html lang="en">
  <head>
    <title>PBPopupController  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="PBPopupController  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">PBPopupController 3.8.3 Docs</a> (83% documented)</p>
        <p class="header-right"><a href="https://github.com/iDevelopper/PBPopupController"><img src="img/gh.png" alt="GitHub"/>View on GitHub</a></p>
        <div class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">PBPopupController Reference</a>
        <img id="carat" src="img/carat.png" alt=""/>
        PBPopupController  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/PBPopupBar.html">PBPopupBar</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PBPopupCloseButton.html">PBPopupCloseButton</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PBPopupContentView.html">PBPopupContentView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PBPopupController.html">PBPopupController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PBPopupLogs.html">PBPopupLogs</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PBPopupRoundShadowImageView.html">PBPopupRoundShadowImageView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/c:@M@PBPopupController@objc(cs)RoundShadowImageView">RoundShadowImageView</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/PBPopupBarBorderViewStyle.html">PBPopupBarBorderViewStyle</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/PBPopupBarProgressViewStyle.html">PBPopupBarProgressViewStyle</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/PBPopupBarStyle.html">PBPopupBarStyle</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/PBPopupCloseButtonStyle.html">PBPopupCloseButtonStyle</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/PBPopupPresentationState.html">PBPopupPresentationState</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/PBPopupPresentationStyle.html">PBPopupPresentationStyle</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/UIColor.html">UIColor</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIScreen.html">UIScreen</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIViewController.html">UIViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/View.html">View</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/s:17PBPopupController5PBLog_5error4file8function_yxyXK_SbS2SSitlF">PBLog(_:error:file:function:_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/PBPopupBarDataSource.html">PBPopupBarDataSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/PBPopupBarPreviewingDelegate.html">PBPopupBarPreviewingDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/PBPopupControllerDataSource.html">PBPopupControllerDataSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/PBPopupControllerDelegate.html">PBPopupControllerDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/RoundShadowImage.html">RoundShadowImage</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='pbpopupcontroller' class='heading'>PBPopupController</h1>

<p><a href="https://travis-ci.org/iDevelopper/PBPopupController"><img src="https://travis-ci.org/iDevelopper/PBPopupController.svg?branch=master" alt="Build Status"></a>
<a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage compatible"></a>
<a href="http://cocoapods.org/pods/PBPopupController"><img src="https://img.shields.io/cocoapods/v/PBPopupController.svg?style=flat" alt="Version"></a>
<a href="https://swift.org/package-manager/"><img src="https://img.shields.io/badge/SwiftPM-compatible-brightgreen.svg" alt="SwiftPM compatible"></a>
<a href="https://developer.apple.com/documentation/xcode/creating_a_mac_version_of_your_ipad_app/"><img src="https://img.shields.io/badge/Catalyst-compatible-brightgreen.svg" alt="Mac Catalyst compatible"></a>
<a href="https://github.com/iDevelopper/PBPopupController/blob/master/LICENSE"><img src="https://img.shields.io/cocoapods/l/PBPopupController.svg?style=flat" alt="License"></a>
<a href="http://cocoapods.org/pods/PBPopupController"><img src="https://img.shields.io/cocoapods/p/PBPopupController.svg?style=flat" alt="Platform"></a>
<a href="https://developer.apple.com/swift"><img src="https://img.shields.io/badge/language-swift%205.0-brightgreen.svg" alt="Swift Version"></a> </p>

<p>PBPopupController is a framework for presenting bars and view controllers as popup, much like the look and feel of Apple Music App.</p>

<p><img src="https://raw.githubusercontent.com/iDevelopper/PBPopupController/master/PBPopupController/Assets/iTunesArtwork.png" alt="Image"></p>
<h2 id='overview' class='heading'>Overview</h2>

<p><code><a href="Classes/PBPopupController.html">PBPopupController</a></code> allows to configure a popup bar (like the mini player of Apple Music App), docking it to the bottom bar of a presenting view container controller (like UITabBarController, UINavigationController). The presenting view controller can be any UIViewController subclass.</p>

<p>Each view controller can present a popup bar, docked to a bottom view. For <code>UITabBarController</code> subclasses, the default is the tab bar. For <code>UINavigationController</code> subclasses, the default view is the toolbar. For other classes, the popup bar is presented at the bottom of the screen. View controller subclasses can provide their own bottom bar views.</p>

<p>Once the popup bar is configured (see the properties in the <code><a href="Classes/PBPopupBar.html">PBPopupBar</a></code> class) with a style, an image, a title, a sub-title, buttons, effects and colors, you present it with the above view controller providing a required popup content view controller (like the maxi player of Apple Music App).</p>

<p>Once the popup bar is presented with a popup content view controller, the user can swipe or tap the popup bar at any point to present the content view controller. After finishing, the user dismisses this view controller by either swiping or tapping the popup close button porvided by the system.
 
Popup close buttons styles are labeled <code>chevron</code> for modern style chevron close button and <code>round</code> for iOS 9-style close buttons.</p>

<p>You can also present and dismiss the popup content view controller programmatically.</p>

<p>The popup bar has a <code>prominent</code> style based on the modern Music app look and feel and a <code>compact</code> style for iOS 9-style look and feel.. You can change these default values. For each, there is a floating parameter for matching the style like in Apple&rsquo;s Music application since iOS 17.</p>

<p>You can also present completely custom popup bars.</p>

<p>The presentation options provided by the framework are listed in the <code><a href="Enums/PBPopupPresentationStyle.html">PBPopupPresentationStyle</a></code> enumeration. They make the presentation look like the behavior of the Apple Music App. For iOS 9, the presentation style was <code>fullScreen</code> by default and for iOS 10 and below, the style was <code>deck</code>. The default is <code>deck</code>. You can change these default values. The <code>custom</code> option allows you to present the controller on a part of the screen.</p>
<h2 id='installation' class='heading'>Installation</h2>
<h3 id='swift-package-manager' class='heading'>Swift Package Manager</h3>

<p><code><a href="Classes/PBPopupController.html">PBPopupController</a></code> supports SPM versions 5.1.0 and above. To use SPM, you should use Xcode 11 or above to open your project. Click <code>File</code> -&gt; <code>Swift Packages</code> -&gt; <code>Add Package Dependency</code>, enter <code>https://github.com/iDevelopper/PBPopupController</code>. Select the version you’d like to use.</p>
<h3 id='carthage' class='heading'>Carthage</h3>

<p>Add the following to your Cartfile:</p>

<p><code>github &quot;iDevelopper/PBPopupController&quot;</code></p>

<p>Make sure you follow the Carthage integration instructions <a href="https://github.com/Carthage/Carthage#if-youre-building-for-ios-tvos-or-watchos">here</a>.</p>
<h3 id='manual' class='heading'>Manual</h3>

<p>Drag the <code>PBPopupController.xcodeproj</code> project to your project, and add <code>PBPopupController.framework</code> to <strong>Embedded Binaries</strong> in your project target&rsquo;s <strong>General</strong> tab. Xcode should sort everything else on its own.</p>
<h3 id='cocoapods' class='heading'>CocoaPods</h3>

<p><code><a href="Classes/PBPopupController.html">PBPopupController</a></code> is available for installation using the Cocoa dependency manager <a href="http://cocoapods.org/">CocoaPods</a>. </p>

<p>Add the following to your project&rsquo;s Podfile:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'PBPopupController'</span>
</code></pre>
<h2 id='requirements' class='heading'>Requirements</h2>

<ul>
<li>iOS 12 or later.</li>
<li>ARC memory management.</li>
</ul>
<h2 id='features' class='heading'>Features</h2>

<ul>
<li>Category methods on UIViewController.</li>
<li>Handling of rotations.</li>
<li>Plays nicely with any child view controllers or parent controllers.</li>
<li>Seamless integration of tap and pan gesture recognizers.</li>
<li>Delegate methods for getting full state of the controller and implementing your own code hooks for customizing behavior.</li>
<li>Data source methods for asking custom popup bar&rsquo; labels.</li>
<li>Full Right-To-Left support.</li>
<li>Accessibility support.</li>
<li>iOS 13 dark mode support.</li>
<li>macOS Catalyst support.</li>
<li>iPad look and feel support.</li>
<li>Floating bar style support.</li>
</ul>
<h2 id='basic-api-description' class='heading'>Basic API Description</h2>

<ul>
<li><p>Configuring and presenting a popup bar:</p>
<pre class="highlight plaintext"><code>    self.tabBarController?.popupController.delegate = self

    if let popupBar = self.tabBarController?.popupBar {

        popupBar.dataSource = self

        popupBar.image = UIImage(named: "Cover01")
        popupBar.title = "Title"
        popupBar.subtitle = " A subtitle"
        popupBar.accessibilityLabel = "My custom label"

        let popupPlayButtonItem = UIBarButtonItem(image: #imageLiteral(resourceName: "play-small"), style: .plain, target: self, action: #selector(playPauseAction(_:)))
        popupPlayButtonItem.accessibilityLabel = NSLocalizedString("Play", comment: "")
        let popupNextButtonItem = UIBarButtonItem(image: #imageLiteral(resourceName: "next-small"), style: .plain, target: self, action: #selector(nextAction(_:)))
        popupNextButtonItem.accessibilityLabel = NSLocalizedString("Next track", comment: "")

        popupBar.rightBarButtonItems = [popupPlayButtonItem, popupNextButtonItem]

        let popupContentVC = self.storyboard?.instantiateViewController(withIdentifier: "PopupContentViewController") as? PopupContentViewController

        self.tabBarController?.presentPopupBar(withPopupContentViewController: popupContentVC, animated: true, completion: {
            print("Presented")
        })
    }
</code></pre></li>
<li><p>Opening a popup content view controller programmatically:</p>
<pre class="highlight plaintext"><code>    self.tabBarController?.openPopup(animated: true, completion: {
        print("Open")
    })
</code></pre></li>
<li><p>Closing a popup content view controller programmatically:</p>
<pre class="highlight plaintext"><code>    self.tabBarController?.closePopup(animated: true, completion: {
        print("Closed")
    })
</code></pre></li>
<li><p>Delegate methods for getting state of the controller:</p>
<pre class="highlight plaintext"><code>func popupController(_ popupController: PBPopupController, stateChanged state: PBPopupPresentationState, previousState: PBPopupPresentationState) {
    PBLog("stateChanged state: \(state.description) - previousState: \(previousState.description)")
}
</code></pre>
<pre class="highlight plaintext"><code>func popupController(_ popupController: PBPopupController, didOpen popupContentViewController: UIViewController) {
    PBLog("didOpen - state: \(popupController.popupPresentationState.description)")
}
</code></pre>

<p>etc&hellip;</p></li>
<li><p><code><a href="Classes/PBPopupBar.html">PBPopupBar</a></code> dataSource methods for providing label instances (such as MarqueeLabel):</p>
<pre class="highlight plaintext"><code>lazy var label: MarqueeLabel = {
    let marqueeLabel = MarqueeLabel(frame: .zero, rate: 15, fadeLength: 10)
    marqueeLabel.leadingBuffer = 0.0
    marqueeLabel.trailingBuffer = 5.0
    marqueeLabel.animationDelay = 1.0
    marqueeLabel.type = .continuous
    return marqueeLabel
}()
</code></pre>

<p>&hellip;</p>
<pre class="highlight plaintext"><code>func titleLabel(for popupBar: PBPopupBar) -&gt; UILabel? {
    return self.label
}
</code></pre>
<pre class="highlight plaintext"><code>func subtitleLabel(for popupBar: PBPopupBar) -&gt; UILabel? {
    return self.sublabel
}
</code></pre></li>
</ul>
<h2 id='managing-the-status-bar' class='heading'>Managing the status bar</h2>

<p>Since iOSS 13, the status bar is not animated correctly by Apple.
So, you can set the properties:</p>

<p><code>popupPreferredStatusBarStyle</code> for the preferred status bar style of the popup content view controller,
<code>containerPreferredStatusBarStyle</code> for preferred status bar style of the container view controller.</p>

<p>When you override the <code>preferredStatusBarStyle</code> variable in your popup content view controller, return container.popupController.popupStatusBarStyle:</p>
<pre class="highlight plaintext"><code>    override public var preferredStatusBarStyle: UIStatusBarStyle {
        guard let containerVC = self.popupContainerViewController else {return.default}
        guard let popupContentView = containerVC.popupContentView else {return .default}

        if popupContentView.popupPresentationStyle != .deck {
            return .default
        }
        return containerVC.popupController.popupStatusBarStyle
    }
</code></pre>
<h2 id='api-documentation' class='heading'>API Documentation</h2>

<p>You can find <a href="http://iDevelopper.github.io/PBPopupController/">the docs here</a>. Documentation is generated with <a href="https://github.com/realm/jazzy">jazzy</a> and hosted on <a href="https://pages.github.com">GitHub-Pages</a>.</p>
<h2 id='acknowledgements' class='heading'>Acknowledgements</h2>

<p>The framework uses:</p>

<ul>
<li><a href="https://github.com/janselv/smooth-gradient">smooth-gradient</a> Copyright &copy; 2016 Jansel Valentin</li>
</ul>

<p>The demo project uses:</p>

<ul>
<li><a href="https://github.com/cbpowell/MarqueeLabel">MarqueeLabel</a> Copyright &copy; 2011-2023 Charles Powell</li>
<li><a href="https://github.com/lukaskubanek/LoremIpsum">LoremIpsum</a> Copyright &copy; 2013 Lukas Kubanek</li>
</ul>
<h2 id='special-mention' class='heading'>Special Mention</h2>

<p>A Special Thank to <a href="https://github.com/LeoNatan">Leo Natan</a>.</p>

<p>This code was inspired on his excellent framework <a href="https://github.com/LeoNatan/LNPopupController">LNPopupController</a>.</p>
<h2 id='author' class='heading'>Author</h2>

<p>Patrick BODET aka iDevelopper</p>
<h2 id='license' class='heading'>License</h2>

<p><code><a href="Classes/PBPopupController.html">PBPopupController</a></code> is available under the MIT license, see the <a href="https://github.com/iDevelopper/PBPopupController/blob/master/LICENSE">LICENSE</a> file for more information.</p>

<p>Please tell me when you use this controller in your project!</p>

<p>Regards,</p>

<p>Patrick Bodet aka iDevelopper</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2023 <a class="link" href="https://github.com/iDevelopper" target="_blank" rel="external noopener">Patrick Bodet</a>. All rights reserved. (Last updated: 2023-12-02)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
